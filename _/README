
README 
November 2010
Google App Engine Java and GWT Application Development


This bundle contains five archive (zip) files:
  ConnectrStage1.zip, ConnectrStage1_alt.zip, ConnectrStage2.zip, ConnectrFinal.zip, and ProfileMVP.zip
These files are Eclipse project bundles for Google App Engine and Google Web Toolkit (GAE+GWT) applications.
This set of applications accompanies the book:
 "Google App Engine Java and GWT Application Development" :
 https://www.packtpub.com/google-app-engine-java-and-gwt-application-development/book ,
by Daniel Guermeur and Amy Unruh

These projects were built for GWT 2.1 and GAE 1.3.8. It is expected that they will run using subsequent versions of both SDKs as well. The upcoming GAE 1.4.0 (not yet released as this book goes to press) will provide some helpful quota and limit changes as well as some useful new features. See the GAE 1.4.0 release notes for more information.

There are two primary applications in this archive.  Connectr is a social-media-oriented app, which aggregates and tracks what your friends are posting, and ProfileMVP is a simple app demonstrating some of the new features of GWT 1.2.
A Connectr demo is here: http://connectrapp.appspot.com/
A ProfileMVP demo is here: http://profilemvp.appspot.com/ 


The Connectr app is developed as a running example throughout the book, and four different versions of the app are included, corresponding to different stages of development.  Each book chapter indicates which stage of Connectr it uses.
These four versions are:
 - ConnectrStage1 : used for Chapters 3 and 5
 - ConnectrStage1_alt : uses an alternate schema, discussed in Chapter 4
 - ConnectrStage2 : used for Chapters 6 and 7
 - ConnectrFinal : the full app, used for the subsequent chapters
 
Note: do not deploy the ConnectrStage1_alt version to the same App Engine app id as used by the other stages; its Datastore schema is different.


GAE 1.4.0 CHANGES
--------------------

In GAE 1.4.0, the taskqueue package has been promoted out of 'labs' status.  The references in the code to:
 com.google.appengine.api.labs.taskqueue
will be marked as deprecated.
In GAE 1.4.0, you can change these import paths instead to:
 com.google.appengine.api.taskqueue

The Channel API 
---------------
The final version of Connectr (ConnectrFinal) makes use of GAE's Channel API, which is not yet officially released as of GAE 1.3.8.  This means that you can use it in your local development environment, but not yet deploy it. It will be officially available in GAE 1.4.0.  
See the file README_Channel_API.txt in the top-level directory of the ConnectrFinal.zip for more information.
GAE 1.4.0 requires a different application setup than 1.3.8 in order to use the Channel API.  README_Channel_API.txt in ConnectrFinal provides setup information for both versions.


GAE 1.3.8 LOGGING ISSUES
------------------------

GAE 1.3.8 has an issue which prevents App Engine INFO-level (and below) logging to be displayed properly in the development console. As a workaround, set 
your GWT logging level to 'Trace' in your Eclipse launch configuration. This will allow your App Engine INFO-level log messages to be displayed, though much GWT trace information is displayed as well (particularly on startup).  Google intends that this will be fixed in release 1.4.0.  This discussion thread provides more detail:
http://groups.google.com/group/google-appengine-java/browse_thread/thread/cdd1134573efbfd0/2264e77f24c17b9e?lnk=gst&q=logging+1.3.8#2264e77f24c17b9e 


ECLIPSE-PLUGIN-GENERATED WEB.XML TEMPLATES
------------------------------------------

There have been recent schema-related problems with deploying the DTD-based web.xml template generated by the Eclipse Google plugin, as indicated in this and related App Engine issue reports: 
  http://code.google.com/p/googleappengine/issues/detail?id=1621.
For that reason, we have changed our apps to use the XSD schema as described in the link above.
If you have any web.xml xml-related deployment issues, you can also try just removing the schema information altogether.

ECLIPSE PLUGIN AND INITIAL LAUNCH OF APP
----------------------------------------------

Occasionally, a new local installation of Connectr will hang on first launch.  (There appears to be a timing issue related to initial local database creation).
If this happens, restart your app. Once the local database is created, this will not occur.
A deployed app will not have this issue.

INSTALLATION
------------

The Eclipse IDE is used with this book.
The zip files in this directory contain Eclipse Projects. Once Eclipse and your environment are properly configured, they may be imported into Eclipse as existing projects.
See the book-- in particular, Chapters 2 and 3-- for full installation instructions.

Installation in brief:
If you are using Eclipse with the GWT + GAE plugin installed as described in the book, here is how to import our sample apps.  You can either import the archive files directly, or unzip them and indicate the project root directory.

- Unzip the zip bundle you got from Packt (if you are reading this, you have probably made it that far).
  The .zip files in this bundle are Eclipse Projects.
- From the Eclipse menu, select File > Import... > Existing Project into Workspace
  - From this window, either select an archive file (a project zip) to import, or select the root directory of an unzipped project.
    If you have unzipped the project, you can choose whether or not to copy it into your workspace or access it in place.
- When you have made your selection, click Finish.  
  Once imported, if Eclipse indicates that the Google SDKs are not found in war/WEB-INF/lib, you may need to configure the Google SDKs for the project.  See the book for details.

To start the app: debug as 'Web application'.

-------
Connectr uses some open-source third-party .jar files.  These jars are included in the project bundles, so you do not need to download them yourself. These .jars are listed below.  Any newer versions are likely to work, but have not been tested.

commons-codec-1.4.jar :http://commons.apache.org/codec/
commons-lang-2.5.jar : http://commons.apache.org/lang/
gson-1.4.jar : http://code.google.com/p/google-gson/
jdom.jar : http://www.jdom.org/
json-1.0.jar : http://json.org/javadoc/org/json/package-summary.html
jsoup-0.3.1.jar :http://jsoup.org/
rome-1.0.jar :  https://rome.dev.java.net/
rome-fetcher-1.0.jar : http://wiki.java.net/bin/view/Javawsxml/RomeFetcherRelease1_0.
twitter4j-core-2.1.6.jar : http://twitter4j.org/
xercesImpl.jar : http://xerces.apache.org/ 


BLOG AND CONTACT INFORMATION 
----------------------------

The authors have a blog associated with this book : http://theconnectr.blogspot.com/ .
Code updates and errata will be available from this blog, as well as through the Packt site from which you obtained this download. 
The authors' contact information can be found on the blog as well.

